(this.webpackJsonpsudoku=this.webpackJsonpsudoku||[]).push([[0],{14:function(e,t,n){},17:function(e,t,n){"use strict";n.r(t);var i=n(1),s=n.n(i),r=n(9),o=n.n(r),a=(n(14),n(8)),c=n(2),l=n(3),u=n(5),h=n(4),b=(n(7),n(0)),d=function(e){Object(u.a)(n,e);var t=Object(h.a)(n);function n(){var e;Object(c.a)(this,n);for(var i=arguments.length,s=new Array(i),r=0;r<i;r++)s[r]=arguments[r];return(e=t.call.apply(t,[this].concat(s))).state={},e.renderBox=function(){var t="box";return+e.props.box.number!==+e.props.box.solution&&e.props.settings.showMistakes&&(t+=" incorrect"),e.props.box.selected&&(t+=" boxSelected"),e.props.box.changeable?t+=" boxUser":t+=" boxGiven",Object(b.jsx)("div",{onClick:function(){return e.props.onBoxClick(e.props.box)},className:t,children:0!==e.props.box.number&&e.props.box.number})},e}return Object(l.a)(n,[{key:"render",value:function(){return Object(b.jsx)(s.a.Fragment,{children:this.renderBox()})}}]),n}(i.Component),f=function(e){Object(u.a)(n,e);var t=Object(h.a)(n);function n(){var e;Object(c.a)(this,n);for(var i=arguments.length,s=new Array(i),r=0;r<i;r++)s[r]=arguments[r];return(e=t.call.apply(t,[this].concat(s))).state={},e}return Object(l.a)(n,[{key:"render",value:function(){var e=this;return Object(b.jsx)("div",{className:"bigBox",children:this.props.bigBox.map((function(t){return e.renderBoxArray(t.id,t)}))})}},{key:"renderBoxArray",value:function(e,t){return Object(b.jsx)(s.a.Fragment,{children:Object(b.jsx)(d,{onBoxClick:this.props.onBoxClick,box:t,settings:this.props.settings})},t.id)}},{key:"mCon",value:function(e){console.log("hello")}}]),n}(i.Component),m=function(e){Object(u.a)(n,e);var t=Object(h.a)(n);function n(){var e;Object(c.a)(this,n);for(var i=arguments.length,r=new Array(i),o=0;o<i;o++)r[o]=arguments[o];return(e=t.call.apply(t,[this].concat(r))).state={},e.renderBigBoxArray=function(t){var n=e.getBigBoxContent(t);return Object(b.jsx)(s.a.Fragment,{children:Object(b.jsx)(f,{onBoxClick:e.props.onBoxClick,bigBox:n,settings:e.props.settings})},t)},e}return Object(l.a)(n,[{key:"render",value:function(){var e=this;return Object(b.jsx)("div",{className:"field",children:[0,1,2,3,4,5,6,7,8].map((function(t){return e.renderBigBoxArray(t)}))})}},{key:"getBigBoxContent",value:function(e){var t=this.props.boxes,n=Math.floor(e/3);e%=3;for(var i=[],s=0;s<3;s++)for(var r=0;r<3;r++){var o=27*n+9*s+3*e+r;i.push(t[o])}return i}}]),n}(i.Component),v=function(){function e(t){Object(c.a)(this,e),this.numbers=t}return Object(l.a)(e,[{key:"getRow",value:function(e){return this.numbers.slice(9*e,9*(e+1))}},{key:"getColumn",value:function(e){for(var t=[],n=0;n<9;n++)t.push(this.numbers[e+9*n]);return t}},{key:"getBox",value:function(e){var t=Math.floor(e/3);e%=3;for(var n=[],i=0;i<3;i++)for(var s=0;s<3;s++){var r=27*t+9*i+3*e+s;n.push(this.numbers[r])}return n}},{key:"isSolveable",value:function(){var e=this.numbers.indexOf(0);if(-1===e)return!0;var t=[1,2,3,4,5,6,7,8,9];this.shuffle(t);for(var n=0;n<9;n++)if(this.isValidToAdd(t[n],e)){if(this.numbers[e]=t[n],this.isSolveable())return!0;this.numbers[e]=0}return!1}},{key:"shuffle",value:function(e){for(var t=e.length-1;t>0;t--){var n=Math.floor(Math.random()*(t+1)),i=[e[n],e[t]];e[t]=i[0],e[n]=i[1]}return e}},{key:"getSolution",value:function(){if(this.isSolveable())return this.numbers;new Error("No solution")}},{key:"isValidToAdd",value:function(e,t){var n=Math.floor(t/9),i=t%9,s=3*Math.floor(n/3)+Math.floor(i/3);return!this.getRow(n).includes(e)&&(!this.getColumn(i).includes(e)&&(!this.getBox(s).includes(e)||(this.numbers[t]=0,!1)))}}]),e}(),p=function(e){Object(u.a)(n,e);var t=Object(h.a)(n);function n(){var e;Object(c.a)(this,n);for(var i=arguments.length,s=new Array(i),r=0;r<i;r++)s[r]=arguments[r];return(e=t.call.apply(t,[this].concat(s))).state={},e}return Object(l.a)(n,[{key:"render",value:function(){var e=this;return Object(b.jsxs)("div",{className:"container",style:{position:"absolute",backgroundColor:"grey",width:"30vh",height:"20vh",marginLeft:"10vh",marginTop:"15vh",opacity:.95},children:[Object(b.jsx)("span",{style:{fontWeight:"bold"},children:"Select difficulty:"}),Object(b.jsx)("br",{}),Object(b.jsx)("div",{className:"btn-group mt-1",role:"group","aria-label":"Difficulty selection",style:{display:"flex",justifyContent:"center"},children:["Easy","Medium","Hard"].map((function(t){return Object(b.jsx)("button",{onClick:function(){return e.props.onDifficultyChange(t)},className:"btn btn-outline-dark"+(t===e.props.selectedDifficulty?" active":""),children:Object(b.jsx)("span",{style:{fontWeight:"bold"},children:t})},t)}))}),Object(b.jsx)("br",{}),Object(b.jsx)("div",{style:{display:"flex",justifyContent:"center"},children:Object(b.jsx)("button",{className:"btn btn-success mt-2",onClick:this.props.onStart,children:"Start Sudoku"})})]})}}]),n}(i.Component),x=function(e){Object(u.a)(n,e);var t=Object(h.a)(n);function n(){var e;Object(c.a)(this,n);for(var i=arguments.length,s=new Array(i),r=0;r<i;r++)s[r]=arguments[r];return(e=t.call.apply(t,[this].concat(s))).state={},e}return Object(l.a)(n,[{key:"render",value:function(){return Object(b.jsxs)("div",{style:{position:"absolute",backgroundColor:"grey",width:"30vh",height:"20vh",marginLeft:"10vh",marginTop:"15vh",opacity:.95},children:[Object(b.jsx)("div",{style:{display:"flex",justifyContent:"center",marginTop:"5vh",fontWeight:"bold"},children:"Victory"}),Object(b.jsx)("div",{style:{display:"flex",justifyContent:"center"},children:Object(b.jsx)("button",{className:"btn btn-success",onClick:this.props.handleReplay,children:"Play again"})})]})}}]),n}(i.Component),j=function(e){Object(u.a)(n,e);var t=Object(h.a)(n);function n(){var e;return Object(c.a)(this,n),(e=t.call(this)).state={totalBoxes:81,maxNumber:9,boxes:[],settings:{showMistakes:!1},selectedDifficulty:"Easy",newGameVisible:!0,winScreenVisible:!1},e.initializeBoxes=function(){for(var t=e.generateRandomSolution(),n=e.state.totalBoxes-e.getGivenNumbers(),i=0;i<n;i++)e.removeOneNumber(t);return t},e.generateRandomSolution=function(){var t=e.initializeEmptyBoxes(),n=t.map((function(e){return e.number})),i=new v(n).getSolution();return t.map((function(e){return e.number=i[e.id],e.solution=i[e.id],e})),t},e.initializeEmptyBoxes=function(){for(var t=[],n=0;n<e.state.totalBoxes;n++)t.push({id:n,number:0,selected:!1,solution:0,changeable:!1});return t},e.handleBoxSelect=function(t){var n=e.state.boxes.indexOf(t),i=Object(a.a)(e.state.boxes);(i=i.map((function(e){return e.selected=!1,e})))[n].selected=!0,e.setState({boxes:i})},e.handleKeyPressed=function(t){isFinite(t.key)&&e.handleNumberInput(t.key)},e.handleDifficultyChange=function(t){e.setState({selectedDifficulty:t})},e.handleStart=function(){e.setState({newGameVisible:!1,boxes:e.initializeBoxes()})},e.handleReplay=function(){document.getElementById("showMistakesCheck").checked=!1,e.setState({winScreenVisible:!1,newGameVisible:!0,settings:{showMistakes:!1}})},e.state.boxes=e.initializeEmptyBoxes(),e}return Object(l.a)(n,[{key:"componentDidMount",value:function(){document.addEventListener("keydown",this.handleKeyPressed.bind(this))}},{key:"componentWillUnmount",value:function(){document.removeEventListener("keydown",this.handleKeyPressed.bind(this))}},{key:"render",value:function(){var e=this;return Object(b.jsx)(s.a.Fragment,{children:Object(b.jsx)("main",{className:"container",children:Object(b.jsxs)("div",{className:"row mt-5",children:[Object(b.jsxs)("div",{className:"col",children:[this.state.newGameVisible&&Object(b.jsx)(p,{onDifficultyChange:this.handleDifficultyChange,onStart:this.handleStart,selectedDifficulty:this.state.selectedDifficulty}),this.state.winScreenVisible&&Object(b.jsx)(x,{handleReplay:this.handleReplay}),Object(b.jsx)(m,{onKeyDown:function(t){return e.handleKeyPress(t)},onBoxClick:this.handleBoxSelect,boxes:this.state.boxes,settings:this.state.settings}),Object(b.jsx)("div",{className:"btn-group mt-3 w-75",role:"group",style:{display:"flex",justifyContent:"center"},children:[1,2,3,4,5,6,7,8,9].map((function(t){return Object(b.jsx)("button",{type:"button",className:"btn btn-secondary ms-1",onClick:function(){return e.handleNumberInput(t)},style:{fontSize:"2vmin"},children:t},t)}))})]}),Object(b.jsxs)("div",{className:"col",children:["Instructions:",Object(b.jsx)("br",{}),"Select a field and press a number on the bottom or on your keyboard. Every 3x3 Box, vertical column and horizontal column can contain each number from 1 to 9 only once.",Object(b.jsx)("div",{className:"mt-5",children:"Options:"}),Object(b.jsxs)("div",{className:"form-check",children:[Object(b.jsx)("input",{className:"form-check-input",type:"checkbox",value:"",id:"showMistakesCheck",onClick:function(){return e.setState({settings:{showMistakes:document.getElementById("showMistakesCheck").checked}})}}),Object(b.jsx)("label",{className:"form-check-label",children:"Show mistakes"})]})]})]})})})}},{key:"removeOneNumber",value:function(e){for(var t=0;0===e[t=Math.floor(Math.random()*this.state.totalBoxes)].number;);e[t].number=0,e[t].changeable=!0}},{key:"isSolveableSudoku",value:function(e){var t=e.map((function(e){return e.number}));return new v(t).isSolveable()}},{key:"isCorrectSolution",value:function(){var e=this.state,t=e.boxes,n=e.totalBoxes;return t.filter((function(e){return+e.number===+e.solution})).length===n}},{key:"getNumberOfEmptyBoxes",value:function(){return this.state.boxes.map((function(e){return e.number})).filter((function(e){return 0===e})).length}},{key:"handleNumberInput",value:function(e){if(!this.state.newGameVisible&&!this.state.winScreenVisible){var t=Object(a.a)(this.state.boxes),n=this.state.boxes.filter((function(e){return e.selected})),i=!1;0!==n.length&&n[0].changeable&&(t[this.state.boxes.indexOf(n[0])].number=e,this.getNumberOfEmptyBoxes()<1&&(i=!0)),this.setState({boxes:t}),i&&this.handleEndGame()}}},{key:"getGivenNumbers",value:function(){var e=this.state.selectedDifficulty,t=80;return"Medium"===e&&(t=40),"Hard"===e&&(t=30),t}},{key:"handleEndGame",value:function(){this.isCorrectSolution()?this.setState({winScreenVisible:!0}):(this.setState({settings:{showMistakes:!0}}),document.getElementById("showMistakesCheck").checked=!0)}}]),n}(i.Component),y=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,18)).then((function(t){var n=t.getCLS,i=t.getFID,s=t.getFCP,r=t.getLCP,o=t.getTTFB;n(e),i(e),s(e),r(e),o(e)}))};n(16);o.a.render(Object(b.jsx)(s.a.StrictMode,{children:Object(b.jsx)(j,{})}),document.getElementById("root")),y()},7:function(e,t,n){}},[[17,1,2]]]);
//# sourceMappingURL=main.8e08b50e.chunk.js.map